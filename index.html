<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, viewport-fit=cover">
    <title>ç»ä»£åŒéª„:ç»ˆç„‰æœªè‡³ è£è€€ç¤¼ç›’</title>
    <style>
        html, body {
            touch-action: manipulation;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        @media (hover: none) {
            * {
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
            }
        }

        :root {
            --gold: #FFD700;
            --orange: #FFA500;
            --dark-gold: #daa520;
        }

        body {
            position: relative;
            color: white;
            font-family: 'å¾®è½¯é›…é»‘', sans-serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
            background: #0a0a0a url('https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/PDP.jpg') no-repeat center/cover fixed;
            display: flex;
            flex-direction: column;
        }

        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
            flex: 1;
        }

        .status-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .card {
            background: linear-gradient(45deg, rgba(255,215,0,0.1), rgba(0,0,0,0.3));
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--gold);
            box-shadow: 0 0 30px rgba(255,215,0,0.2);
            position: relative;
        }

        .draw-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--gold), var(--orange));
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            color: #1a1a1a;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255,215,0,0.4);
        }

        .draw-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,215,0,0.6);
        }

        .draw-button:active {
            transform: translateY(1px);
        }

        .collapse-button {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--gold);
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            margin: 10px 0;
            transition: all 0.3s;
        }

        .collapse-button:hover {
            background: rgba(255,255,255,0.2);
        }

        .collapsed {
            display: none;
        }

        .rewards-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .shop-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .shop-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            width: 220px;
            transition: transform 0.3s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .shop-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255,215,0,0.3);
        }

        .player-image {
            width: 50%;
            max-width: 100px;
            height: auto;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid var(--gold);
            box-shadow: 0 0 15px rgba(255,215,0,0.3);
            transition: transform 0.3s;
        }

        .shop-item button {
            background: linear-gradient(45deg, var(--gold), var(--orange));
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            color: #1a1a1a;
            margin-top: 10px;
            transition: transform 0.2s;
            cursor: pointer;
            font-weight: bold;
        }

        .shop-item button:hover {
            transform: scale(1.05);
        }

        .reward-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin: 10px;
            border-radius: 10px;
            transition: transform 0.3s;
        }

        .open-button {
            background: linear-gradient(45deg, #00FF88, #00CC66);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            color: #1a1a1a;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .open-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0,255,136,0.5);
        }

        .reward-badge {
            font-size: 0.8em;
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 10px;
            margin-left: 8px;
        }

        /* å…è´£å£°æ˜å¼¹çª— */
        .disclaimer-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease;
        }
        
        .disclaimer-content {
            background: linear-gradient(145deg, rgba(20,20,20,0.95), rgba(40,40,40,0.95));
            border: 3px solid var(--gold);
            border-radius: 20px;
            padding: 30px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            text-align: center;
            box-shadow: 0 0 50px rgba(255,215,0,0.5);
            animation: scaleIn 0.5s ease;
        }
        
        .disclaimer-content h2 {
            color: var(--gold);
            margin-bottom: 20px;
            font-size: 2rem;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
        }
        
        .disclaimer-content p {
            margin: 15px 0;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .disclaimer-button {
            background: linear-gradient(45deg, var(--gold), var(--orange));
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            color: #1a1a1a;
            font-weight: bold;
            margin-top: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(255,215,0,0.4);
        }
        
        .disclaimer-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255,215,0,0.6);
        }
        
        /* å†å²è®°å½• */
        .history-container {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 10px;
            padding: 15px;
            background: rgba(0,0,0,0.5);
        }
        
        .history-item {
            padding: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-player {
            color: var(--gold);
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255,215,0,0.5);
        }
        
        /* è‡ªé€‰å¼¹çª— */
        .selection-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .selection-content {
            background: linear-gradient(145deg, rgba(20,20,20,0.95), rgba(40,40,40,0.95));
            border: 3px solid var(--gold);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 80%;
            overflow-y: auto;
            text-align: center;
            box-shadow: 0 0 50px rgba(255,215,0,0.5);
        }
        
        .selection-content h2 {
            color: var(--gold);
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
        }
        
        .player-option {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 15px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .player-option:hover {
            background: rgba(255,215,0,0.2);
            border: 1px solid var(--gold);
            transform: translateY(-3px);
        }
        
        .player-option img {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            margin-right: 20px;
            border: 2px solid var(--gold);
            box-shadow: 0 0 10px rgba(255,215,0,0.3);
        }
        
        .player-option span {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--gold);
        }
        
        /* é¡µè„š */
        .footer {
            text-align: center;
            padding: 25px;
            margin-top: 40px;
            color: var(--gold);
            font-size: 1.1rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255,215,0,0.7);
            background: rgba(0,0,0,0.7);
            border-top: 2px solid var(--gold);
        }
        
        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .status-bar {
                grid-template-columns: 1fr;
            }
            
            .draw-button {
                position: relative;
                bottom: auto;
                right: auto;
                width: 100%;
                margin-top: 20px;
            }
            
            .shop-row {
                flex-direction: column;
                align-items: center;
            }
            
            .shop-item {
                width: 100%;
                max-width: 280px;
                margin: 10px 0;
            }
            
            .disclaimer-content {
                padding: 20px;
            }
            
            .disclaimer-content h2 {
                font-size: 1.5rem;
            }
            
            .selection-content {
                padding: 20px;
            }
            
            .player-option {
                flex-direction: column;
                text-align: center;
            }
            
            .player-option img {
                margin-right: 0;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 480px) {
            .shop-item {
                width: 100%;
                margin: 10px 0;
            }
            
            .draw-button {
                padding: 12px 24px;
                font-size: 14px;
            }
            
            .disclaimer-button {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            .footer {
                font-size: 1rem;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- å…è´£å£°æ˜å¼¹çª— -->
    <div class="disclaimer-modal" id="disclaimerModal">
        <div class="disclaimer-content">
            <h2>å…è´£å£°æ˜</h2>
            <p>å…è´¹æ¨¡æ‹Ÿå™¨ï¼Œä»…ä¾›å¨±ä¹ï¼Œç¦æ­¢å•†ç”¨ï¼Œè‹¥æœ‰è¿æ³•è¡Œä¸ºåæœè‡ªè´Ÿï¼</p>
            <p>ä½œè€…: å¤§ä¼—è¯„çƒ@ä¸å‡ºç»´åŸƒæ‹‰ä¸æ”¹åï¼ˆå·²å…‘æ¢ï¼‰</p>
            <button class="disclaimer-button" onclick="closeDisclaimer()">ç¡®è®¤</button>
        </div>
    </div>

    <div class="background-overlay"></div>
    <div class="container">
        <div class="header">
            <h1>ç»ä»£åŒéª„:ç»ˆç„‰æœªè‡³ è£è€€ç¤¼ç›’</h1>
            <div class="status-bar">
                <div>ğŸ° æŠ½å–æ¬¡æ•°ï¼š<span id="drawCount">0</span></div>
                <div>â­ è£è€€å€¼ï¼š<span id="honorValue">0</span>/300</div>
                <div>ğŸ å·²è·å¥–åŠ±ï¼š<span id="rewardsCounter">0</span> ä¸ª</div>
            </div>
        </div>
        
        <div class="card">
            <div id="result"></div>
            <button class="draw-button" onclick="draw()" id="drawButton">
                âœ¨ æ¶ˆè€—1000é‡‘å¸æŠ½å¡ âœ¨
            </button>
        </div>

        <div class="card">
            <h2>ğŸ›’ å…‘æ¢å•†åº—</h2>
            <div class="shop-row">
                <div class="shop-item">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/cr7.jpg" 
                         class="player-image">
                    <h3>Cç½—</h3>
                    <button onclick="exchange(36, 'Cç½—')">36 â­ å…‘æ¢</button>
                </div>
                <div class="shop-item">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/btmessi.jpg" 
                         class="player-image">
                    <h3>æ¢…è¥¿</h3>
                    <button onclick="exchange(36, 'æ¢…è¥¿')">36 â­ å…‘æ¢</button>
                </div>
                <div class="shop-item">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/double_team.jpg" 
                         class="player-image"></br>
                    <h3>åŒäººç»„åˆåŒ…</h3>
                    <button onclick="exchange(63, 'åŒäººç»„åˆåŒ…')">63 â­ å…‘æ¢</button>
                </div>
                <div class="shop-item">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/cr7.jpg" 
                         class="player-image">
                    <h3>5%å«Cç½—</h3>
                    <button onclick="exchange(2, '5%å«Cç½—')">2 â­ å…‘æ¢</button>
                </div>
                <div class="shop-item">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/btmessi.jpg" 
                         class="player-image">
                    <h3>5%å«æ¢…è¥¿</h3>
                    <button onclick="exchange(2, '5%å«æ¢…è¥¿')">2 â­ å…‘æ¢</button>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ ç´¯è®¡å¥–åŠ±</h2>
            <div class="rewards-container" id="rewardsContainer"></div>
            <button class="collapse-button" id="collapseButton" onclick="toggleCollapse()">å±•å¼€æ›´å¤šå¥–åŠ±</button>
            
            <h3 style="margin-top: 30px;">ğŸ“œ å†å²è®°å½•</h3>
            <div class="history-container" id="historyContainer">
                <div class="history-item" style="color: #FFD700; font-style: italic;">
                    æš‚æ— ç‰¹æ®Šçƒå‘˜è®°å½•
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <div class="footer">
        ä½œè€…ï¼šå¤§ä¼—è¯„çƒ@ä¸å‡ºç»´åŸƒæ‹‰ä¸æ”¹åï¼ˆå·²å…‘æ¢ï¼‰
    </div>

    <!-- è‡ªé€‰å¼¹çª— -->
    <div class="selection-modal" id="selectionModal">
        <div class="selection-content">
            <h2>é€‰æ‹©çƒå‘˜ç¢ç‰‡</h2>
            <p>è¯·ä»ä»¥ä¸‹é€‰é¡¹ä¸­é€‰æ‹©ä¸€åçƒå‘˜ç¢ç‰‡ï¼š</p>
            <div id="playerOptions">
                <div class="player-option" onclick="selectPlayer('Cç½—ç¢ç‰‡')">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/cr7.jpg">
                    <span>Cç½—ç¢ç‰‡</span>
                </div>
                <div class="player-option" onclick="selectPlayer('æ¢…è¥¿ç¢ç‰‡')">
                    <img src="https://cdn.jsdelivr.net/gh/Kybzl/Pictures@main/images/btmessi.jpg">
                    <span>æ¢…è¥¿ç¢ç‰‡</span>
                </div>
            </div>
            <button class="disclaimer-button" style="margin-top: 20px;" onclick="closeSelection()">å–æ¶ˆ</button>
        </div>
    </div>

    <script>
        // åœ¨åŸæœ‰çŠ¶æ€å¯¹è±¡ä¸­æ·»åŠ å†å²è®°å½•æ•°ç»„
        let state = {
            drawCount: 0,
            honor: 0,
            gold: 1000000,
            claimedRewards: [],
            rewardCycles: {},
            lastRewardCycle: -1,
            history: [],  // æ–°å¢å†å²è®°å½•æ•°ç»„
            // æ–°å¢ï¼šæ¢¦å¹»ç²¾é€‰ç®±å¼å·²æŠ½å–çš„çƒå‘˜
            dreamBoxDrawnPlayers: []
        };

        // å…è´£å£°æ˜å¼¹çª—æ§åˆ¶
        function closeDisclaimer() {
            document.getElementById('disclaimerModal').style.display = 'none';
        }
        
        const rewardSystem = {
            cycleLength: 25,
            rewards: [
                {
                    step: 5,
                    name: 'è£è€€é«˜å…‰ç¤¼ç›’',
                    players: ['å²è¯—èµ«å†…æ–¯','å²è¯—å¤è’‚','å²è¯—é‡çŒªæˆ´ç»´æ–¯','å²è¯—åˆ‡èµ«','å•å¢èƒ½å…°å¸•å¾·','åŒå¢èƒ½å·´è’‚','åŒå¢èƒ½ç§‘æ–¯å¡”','åŒå¢èƒ½äºšå½“æ–¯']
                },
                {
                    step: 10,
                    name: 'æ¢¦å¹»ç²¾é€‰ç®±å¼',
                    players: ['è±å¥¥','ç»´è’‚å°¼äºš','é˜¿å°”ç“¦é›·æ–¯','éº¦å¡åˆ©æ–¯ç‰¹','é—¨å¾·æ–¯']
                },
                {
                    step: 15,
                    name: '96+å¢èƒ½å²è¯—',
                    players: ['å¡çº³ç“¦ç½—', 'æµç§‘', 'æ¢…è¥¿', 'å…‹é²ä¼Šå¤«', 'æ™®æ‹‰è’‚å°¼', 'åŸƒæ‰˜å¥¥', 'ç½—çº³å°”è¿ªå°¼å¥¥', 'å¾·ç§‘', '19å²é•¿å‘æ¢…è¥¿', 'é‡Œæ°å¡å°”å¾·', 'èŒƒå·´æ–¯æ»•', 'å¤åˆ©ç‰¹', 'è´éš†', 'é˜¿æ‰å°”', 'å›¾æ‹‰å§†', 'æ¯”åˆ©äºš', 'è´å…‹æ±‰å§†', 'æ‰˜è’‚', 'ç±³å…°å°ç½—', 'å·´é›·è¥¿', 'èˆç”«ç´ç§‘', 'å“ˆç»´', 'åˆ‡èµ«', 'æ°æ‹‰å¾·', 'ç»´åŸƒæ‹‰', 'å†…å¾·ç»´å¾·', 'çš®å°”æ´›', 'å•å¢å¾·ç§‘', 'å¾·ç½—å·´', 'æ¬§æ–‡', 'åé€šçº³', 'é©¬å°”è’‚å°¼', 'èŒƒå°¼æ–¯ç‰¹é²ä¼Š', 'å¾·å°”çš®è€¶ç½—', 'å¥¥è¿å†…é©¬å°”', 'æ–¯ç§‘å°”æ–¯', 'åˆ©ç‰©æµ¦æ°æ‹‰å¾·', 'å¡æ´›æ–¯', 'ç½—é©¬é‡Œå¥¥', 'å·´ä¹”', 'é©¬å…‹è±è±', 'å•å¢å¡çº³ç“¦ç½—', 'è²æˆˆ', 'å¡è¥¿åˆ©äºšæ–¯', 'å•å¢æ¯”åˆ©äºš', 'æ„å¤§åˆ©é©¬å°”è’‚å°¼', 'ç±³å…°èŒƒå·´æ–¯æ»•', 'è¥¿ç­ç‰™å“ˆç»´', 'å•å¢è´éš†', 'æ·å…‹åˆ‡èµ«', 'è´å°”', 'è‹±æ ¼å…°è´å…‹æ±‰å§†', 'æ›¼è”æ–¯ç§‘å°”æ–¯', 'æ„å¤§åˆ©æ‰˜è’‚', 'å·´è¨ç½—é©¬é‡Œå¥¥', 'æ„å¤§åˆ©çš®å°”æ´›', 'æ„å¤§åˆ©å·´ä¹”', 'æ„å¤§åˆ©çš®è€¶ç½—', 'çš‡é©¬é©¬å…‹è±è±', 'è´å°”å·´æ‰˜å¤«', 'è¿ªè¾¾', 'åšæ ¼åæ™®', 'åŒå¢è´¹é›·å°”', 'åŒå¢å…°å¸•å¾·', 'åŒå¢é˜¿éš†ç´¢', 'åŒå¢æ–¯å†…å¾·', 'äºšé©¬å°”', 'ç½—ä¼Šæ–¯', 'å•å¢æ–¯å†…å¾·', 'å•å¢éº¦å­”', 'å•å¢å†…æ–¯å¡”', 'å•å¢å¡æ´›æ–¯', 'å·´è’‚', 'åˆ‡å°”è¥¿é©¬å…‹è±è±', 'çš‡é©¬å¡è¥¿', 'å•å¢åšæ ¼åæ™®', 'å•å¢å¤è’‚', 'å•å¢ç§‘æ–¯å¡”', 'å•å¢åŠ³å°”', 'å•å¢çš‡é©¬å°è´', 'å•å¢é‡Œç“¦å°”å¤š', 'å•å¢å…°å¸•å¾·', 'å•å¢å¼—å…°', 'å•å¢èˆ’æ¢…åˆ‡å°”', 'å•å¢å¡ç¦', 'å•å¢çš‡é©¬æ–¯å†…å¾·', 'å¥¥å…°å¤šå†…æ–¯å¡”', 'å•å¢å…‹é²ä¼Šç»´ç‰¹', 'å•å¢è´¹é›·å°”', 'å•å¢é˜¿éš†ç´¢', 'å•å¢æˆ´ç»´æ–¯', 'å•å¢é˜¿å°”è´è’‚å°¼', 'å•å¢å¡å¡', 'å•å¢ä¼Šæ¶…æ–¯å¡”', 'å•å¢æ‰˜é›·æ–¯', 'å•å¢å¼—å…°', 'å•å¢æ–¯æ‰˜ä¼Šç§‘ç»´å¥‡', 'å•å¢åŠ³å°”', 'å•å¢å› æ‰å‰', 'å›½ç±³åšæ ¼åæ™®', 'è‹±æ ¼å…°å…°å¸•å¾·', 'é˜¿éš†ç´¢', 'ç§‘æ–¯å¡”', 'åŒå¢ç§‘æ–¯å¡”åº“å¡”', 'åŒå¢åšæ‰¬', 'åŒå¢ä¹…åˆ©', 'åŒå¢å†…é©¬å°”', 'åŒå¢å®‰å¸ƒç½—è¥¿å°¼', 'åŒå¢åŸƒå¾·ç±³å°”æ£®', 'æœ´æ™ºæ˜Ÿ', 'ä¸­ç”°è‹±å¯¿', 'è«ä¼¦ç‰¹æ–¯', 'åŸƒå°”æ–‡', 'ç½—å¸ƒæ£®', 'åˆ©ç‰©æµ¦é˜¿éš†ç´¢', 'æ‰¬ç§‘å‹’', 'ç§‘æ–¯å¡”åº“å¡”', 'æ¡‘æ‰˜æ–¯é©¬å„¿', 'ç“œè¿ªå¥¥æ‹‰', 'å•å¢åŸƒå¾·ç±³å°”æ£®', 'å¡å°”å‰å¥¥', 'é¦™å·çœŸå¸', 'é—¨è¿­å¡”', 'è´å°”æˆˆmi', 'æ–¯æ‰˜ä¼Šç§‘ç»´å¥‡', 'å®‰å¸ƒç½—è¥¿å°¼', 'å¾·å°¼å°”æ£®', 'è´è±è’‚', 'è¨ç»´å¥¥æ‹‰', 'é˜¿å¾·é‡Œäºšè¯º', 'å·´ç”²ç½—é©¬é‡Œå¥¥', 'å¼—è±å½»', 'å¤šçº³å¤šå°¼', 'åˆ‡å°”è¥¿æ‰˜é›·æ–¯', 'å¤§å«æ¯”åˆ©äºš', 'åŒå¢ç“œè¿ªå¥¥æ‹‰', 'åŠ è¥¿äºš', 'åŸƒç“¦å°”', 'ç±³å…°å› æ‰å‰', 'åŒå¢æ‹œäºš']
                },
                {
                    step: 20,
                    name: 'è£è€€ä¼ å¥‡ç¤¼ç›’',
                    players:['é»„ä¼ é²æ¢…å°¼æ ¼','é»„ä¼ ç»´åŸƒæ‹‰','é»„ä¼ å…°å¸•å¾·','é»„ä¼ é‡Œæ°å¡å°”å¾·','é»„ä¼ åŠ³å°”','é»„ä¼ å¼—å…°','é»„ä¼ åŸƒå¾·ç±³å°”æ£®'],
                },
                {
                    step: 25,
                    name: 'è‡ªé€‰é—ªè€€ç¢ç‰‡',
                    players: ['Cç½—é—ªè€€ç¢ç‰‡','æ¢…è¥¿é—ªè€€ç¢ç‰‡']
                }
            ],

            getCurrentRewards(drawCount) {
                const currentCycle = Math.floor((drawCount - 1) / this.cycleLength);
                const currentStep = drawCount % this.cycleLength || this.cycleLength;
                
                return this.rewards.filter(reward => {
                    return currentStep >= reward.step && 
                         !this.isClaimed(reward.name, currentCycle);
                });
            },

            isClaimed(rewardName, cycle) {
                return state.rewardCycles[`${rewardName}_${cycle}`] === true;
            },

            markAsClaimed(rewardName, cycle) {
                state.rewardCycles[`${rewardName}_${cycle}`] = true;
            }
        };

        function draw() {
            if (state.gold < 1000) {
                alert('é‡‘å¸ä¸è¶³ï¼');
                return;
            }

            state.gold -= 1000;
            const currentDrawCount = ++state.drawCount;

            const baseProb = probabilityConfig.getCurrentProb(currentDrawCount);
            const rate = rateCalculator.getRate(currentDrawCount);
            const actualProb = (baseProb * rate) / 100;

            const isHonor = Math.random() * 100 < actualProb;
            if (isHonor) state.honor += 1;

            const currentRewards = rewardSystem.getCurrentRewards(state.drawCount);
            currentRewards.forEach(reward => {
                const currentCycle = Math.floor((state.drawCount - 1) / rewardSystem.cycleLength);
                rewardSystem.markAsClaimed(reward.name, currentCycle);
                
                const rewardEntry = {
                    id: Date.now() + Math.random(),
                    name: reward.name,
                    players: reward.players,
                    cycle: currentCycle,
                    claimTime: new Date().toLocaleString(),
                    opened: false
                };

                state.claimedRewards.push(rewardEntry);
                showRewardNotification(rewardEntry);
            });

            updateUI(isHonor ? 'ğŸ‰ è£è€€é™ä¸´ï¼è·å¾—1ç‚¹è£è€€å€¼' : `ğŸ† è·å¾—çƒå‘˜ï¼š${getRandomPlayer()}`, 
                   isHonor ? '#FFD700' : '#00FF88');
        }

        // ä¿®æ”¹å…‘æ¢å‡½æ•°ï¼Œæ·»åŠ å†å²è®°å½•
        function exchange(cost, item) {
            if (state.honor >= cost) {
                state.honor -= cost;
                
                // å¤„ç†5%å…‘æ¢é€‰é¡¹
                if (item === '5%å«Cç½—' || item === '5%å«æ¢…è¥¿') {
                    const targetPlayer = item === '5%å«Cç½—' ? 'Cç½—' : 'æ¢…è¥¿';
                    
                    // åˆ›å»º140äººçš„å¥–æ± 
                    const pool = createFivePercentPool(targetPlayer);
                    
                    const rewardEntry = {
                        id: Date.now() + Math.random(),
                        name: item,
                        players: pool,
                        targetPlayer: targetPlayer,
                        claimTime: new Date().toLocaleString(),
                        opened: false,
                        type: 'fivePercent'
                    };

                    state.claimedRewards.push(rewardEntry);
                    alert('å…‘æ¢æˆåŠŸï¼è·å¾—ï¼š' + item);
                    updateUI();
                    return;
                }
                
                // æ·»åŠ åˆ°å†å²è®°å½•
                addToHistory(item, 'exchange');
                
                alert('å…‘æ¢æˆåŠŸï¼è·å¾—ï¼š' + item);
                updateUI();
            } else {
                alert('è£è€€å€¼ä¸è¶³ï¼');
            }
        }
        
        // åˆ›å»º5%å¥–æ± 
        function createFivePercentPool(targetPlayer) {
            const pool = [];
            
            // æ·»åŠ ç›®æ ‡çƒå‘˜ï¼ˆ5%æ¦‚ç‡ï¼‰
            for (let i = 0; i < 7; i++) {
                pool.push(targetPlayer);
            }
            
            // æ·»åŠ å…¶ä»–çƒå‘˜ï¼ˆ95%æ¦‚ç‡ï¼‰
            const normalPlayers = getNormalPlayers(133);
            pool.push(...normalPlayers);
            
            // æ‰“ä¹±å¥–æ± 
            return shuffleArray(pool);
        }
        
        // è·å–æ™®é€šçƒå‘˜
        function getNormalPlayers(count) {
            const allPlayers = NORMAL_PLAYERS;
            const shuffled = [...allPlayers].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }
        
        // æ‰“ä¹±æ•°ç»„
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // ä¿®æ”¹å¼€å¯å¥–åŠ±å‡½æ•°ï¼Œå¤„ç†è‡ªé€‰é—ªè€€ç¢ç‰‡å’Œ5%å¥–æ± 
        function openReward(rewardId) {
            const reward = state.claimedRewards.find(r => r.id === rewardId);
            if (!reward || reward.opened) return;
            
            // ç‰¹æ®Šå¤„ç†è‡ªé€‰é—ªè€€ç¢ç‰‡
            if (reward.name === 'è‡ªé€‰é—ªè€€ç¢ç‰‡') {
                document.getElementById('selectionModal').style.display = 'flex';
                // ä¿å­˜å½“å‰å¥–åŠ±IDä»¥ä¾¿é€‰æ‹©åä½¿ç”¨
                window.currentRewardId = rewardId;
                return;
            }
            
            // å¤„ç†5%å¥–æ± 
            if (reward.type === 'fivePercent') {
                const player = reward.players[Math.floor(Math.random() * reward.players.length)];
                
                // æ£€æŸ¥æ˜¯å¦æŠ½ä¸­ç›®æ ‡çƒå‘˜
                if (player === reward.targetPlayer) {
                    alert(`ğŸ‰ å¤©é€‰ä¹‹äººï¼ä½ æŠ½ä¸­äº†ï¼š${player}`);
                    // æ·»åŠ åˆ°å†å²è®°å½•
                    addToHistory(player, 'reward');
                } else {
                    alert(`ğŸ‰ å¼€å¯æˆåŠŸï¼è·å¾—çƒå‘˜ï¼š${player}`);
                    // æ™®é€šçƒå‘˜ä¸è®°å½•å†å²
                }
                
                reward.opened = true;
                updateUI();
                return;
            }
            
            // å¤„ç†æ¢¦å¹»ç²¾é€‰ç®±å¼ï¼ˆæŠ½å‡ºä¸æ”¾å›ï¼‰
            if (reward.name === 'æ¢¦å¹»ç²¾é€‰ç®±å¼') {
                // è·å–æœªæŠ½å–çš„çƒå‘˜
                const availablePlayers = reward.players.filter(p => 
                    !state.dreamBoxDrawnPlayers.includes(p)
                );
                
                if (availablePlayers.length === 0) {
                    alert('è¯¥ç®±å¼ä¸­çš„æ‰€æœ‰çƒå‘˜éƒ½å·²æŠ½å–å®Œæ¯•ï¼');
                    return;
                }
                
                // éšæœºé€‰æ‹©ä¸€ä¸ªçƒå‘˜
                const player = availablePlayers[Math.floor(Math.random() * availablePlayers.length)];
                
                // æ ‡è®°è¯¥çƒå‘˜ä¸ºå·²æŠ½å–
                state.dreamBoxDrawnPlayers.push(player);
                
                alert(`ğŸ‰ å¼€å¯æˆåŠŸï¼è·å¾—çƒå‘˜ï¼š${player}`);
                reward.opened = true;
                
                // æ·»åŠ åˆ°å†å²è®°å½•
                addToHistory(player, 'reward');
                
                updateUI();
                return;
            }
            
            // æ™®é€šå¥–åŠ±æ­£å¸¸éšæœºé€‰æ‹©
            const player = reward.players[Math.floor(Math.random() * reward.players.length)];
            alert(`ğŸ‰ å¼€å¯æˆåŠŸï¼è·å¾—çƒå‘˜ï¼š${player}`);
            
            reward.opened = true;
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addToHistory(player, 'reward');
            
            updateUI();
        }
        
        // è‡ªé€‰çƒå‘˜åŠŸèƒ½
        function selectPlayer(player) {
            const rewardId = window.currentRewardId;
            const reward = state.claimedRewards.find(r => r.id === rewardId);
            
            if (reward) {
                alert(`ğŸ‰ å¼€å¯æˆåŠŸï¼è·å¾—çƒå‘˜ç¢ç‰‡ï¼š${player}`);
                reward.opened = true;
                
                // æ·»åŠ åˆ°å†å²è®°å½•
                addToHistory(player, 'reward');
                
                updateUI();
            }
            
            closeSelection();
        }
        
        function closeSelection() {
            document.getElementById('selectionModal').style.display = 'none';
        }
        
        // æ·»åŠ åˆ°å†å²è®°å½•å‡½æ•°
        function addToHistory(player, type) {
            const historyItem = {
                player: player,
                type: type,
                time: new Date().toLocaleString()
            };
            
            state.history.unshift(historyItem);
            updateHistoryDisplay();
        }
        
        // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
        function updateHistoryDisplay() {
            const container = document.getElementById('historyContainer');
            
            if (state.history.length === 0) {
                container.innerHTML = '<div class="history-item" style="color: #FFD700; font-style: italic;">æš‚æ— ç‰¹æ®Šçƒå‘˜è®°å½•</div>';
                return;
            }
            
            container.innerHTML = state.history.map(item => `
                <div class="history-item">
                    <div>${item.type === 'exchange' ? 'ğŸ›’ å…‘æ¢' : 'ğŸ è·å¾—'}ï¼š<span class="history-player">${item.player}</span></div>
                    <div style="font-size: 0.8em; opacity: 0.7;">${item.time}</div>
                </div>
            `).join('');
        }
        
        // åœ¨updateUIå‡½æ•°ä¸­è°ƒç”¨æ›´æ–°å†å²è®°å½•
        function updateUI(message, color) {
            document.getElementById('drawCount').textContent = state.drawCount;
            document.getElementById('honorValue').textContent = state.honor;
            document.getElementById('rewardsCounter').textContent = state.claimedRewards.length;

            if (message) showResult(message, color);
            updateRewardsDisplay();
            updateHistoryDisplay();
            document.getElementById('drawButton').disabled = state.gold < 1000;
        }
        
        function updateRewardsDisplay() {
            const container = document.getElementById('rewardsContainer');
            container.innerHTML = state.claimedRewards.map(reward => `
                <div class="reward-item">
                    <h3>${reward.name} ${reward.type === 'fivePercent' ? '<span class="reward-badge">5%å¥–æ± </span>' : ''}</h3>
                    ${reward.opened ? 
                        '<p>ğŸ å·²å¼€å¯</p>' : 
                        `<button class="open-button" onclick="openReward(${reward.id})">
                            âœ¨ æ‰“å¼€ç¤¼åŒ… âœ¨
                        </button>`
                    }
                </div>
            `).join('');

            const collapseButton = document.getElementById('collapseButton');
            collapseButton.style.display = state.claimedRewards.length > 2 ? 'block' : 'none';
        }

        const probabilityConfig = {
            phases: [
                { start: 0,  prob: 3   },
                { start: 5,  prob: 3.75},
                { start: 10, prob: 4.5 },  
                { start: 15, prob: 5.25},
                { start: 20, prob: 5.88},
                { start: 25, prob: 6   }
            ],
            getCurrentProb(count) {
                const phase = this.phases.slice().reverse().find(p => count >= p.start);
                return phase ? phase.prob : 0;
            }
        };

        const rateCalculator = {
            getRate(count) {
                if (count <= 5) return 100 + (count - 1) * 100;
                return Math.min(475 + (count - 5) * 25, 1000);
            }
        }; 

        function showResult(message, color) {
            const currentStep = state.drawCount % rewardSystem.cycleLength || rewardSystem.cycleLength;
            document.getElementById('result').innerHTML = `
                <div style="border: 2px solid ${color}; border-radius: 10px; padding: 15px; margin: 15px 0;">
                    <h3 style="color: ${color}; margin: 0;">${message}</h3>
                    <small>å½“å‰æ¦‚ç‡ï¼š${probabilityConfig.getCurrentProb(state.drawCount)}%</small> <br>
                    <small>å½“å‰å€ç‡ï¼š${rateCalculator.getRate(state.drawCount)}%</small>
                </div>`;
        }

        function showRewardNotification(rewardEntry) {
            const notification = document.createElement('div');
            notification.style = "border: 2px solid #00FF88; border-radius: 10px; padding: 15px; margin: 10px 0;";
            notification.innerHTML = `
                <h3 style="color: #00FF88; margin: 0;">ğŸ è·å¾—ç´¯è®¡å¥–åŠ±ï¼š${rewardEntry.name}</h3>
            `;
            document.getElementById('result').prepend(notification);
        }

        // æå–æ™®é€šçƒå‘˜åˆ—è¡¨åˆ°å…¨å±€å¸¸é‡
        const NORMAL_PLAYERS = ['å­™å…´æ…œ', 'å“ˆé‡ŒÂ·å‡¯æ©', 'å¾·å¸ƒåŠ³å†…', 'è¨æ‹‰èµ«', 'èŒƒæˆ´å…‹',
            'å¸ƒé²è¯ºÂ·è´¹å°”å—å¾·æ–¯', 'åç‰¹', 'æ–¯ç‰¹æ—', 'é˜¿è¯ºå¾·', 'é©¬å†…',
            'æ‹‰ä»€ç¦å¾·', 'æ¡‘ä¹”', 'ç¦ç™»', 'æ ¼æ‹‰åˆ©ä»€', 'è©¹å§†æ–¯',
            'è’‚äºšæˆˆ', 'è‹¥æ—¥å°¼å¥¥', 'èŠ’ç‰¹', 'å¢å¡åº“', 'é½è€¶èµ«',
            'å•è¿ªæ ¼', 'é˜¿æ–¯çš®åˆ©å¥å¡”', 'çƒ­è‹æ–¯', 'æ´¥ç´ç§‘', 'æ´›é‡Œ',
            'å‡¯å°”Â·æ²ƒå…‹', 'é©¬èµ«é›·æ–¯', 'äº¬å¤šå®‰', 'ç½—å¾·é‡Œ', 'åŸƒå¾·æ£®', 'è¿ªäºšæ–¯', 'è´å°”çº³å¤šÂ·å¸­å°”ç“¦', 'è²å°”Â·ç¦ç™»', 'å¡å¡ç±³ç½—', 'ç“¦æ‹‰å†…',            
            'æ¡‘åˆ‡æ–¯', 'å„å¾·é«˜', 'è¨å¡', 'å¥¥å·´æ¢…æ‰¬', 'æ‹‰å¡æ³½ç‰¹',
            'æ‰˜é©¬æ–¯Â·å¸•å°”ç‰¹ä¼Š', 'æœ¬Â·æ€€ç‰¹', 'è’‚å°”å°¼', 'å²å¯†æ–¯Â·ç½—', 'æ´›å­”åŠ ',
            'å¯Œå®‰å¥æ´‹', 'é©¬ä¸å†…åˆ©', 'æ©å‡¯è’‚äºš', 'æ‹‰å§†æ–¯ä»£å°”', 'éœå°”ä¸',
            'æœ¬æ³½é©¬', 'è«å¾·é‡Œå¥‡', 'ç»´å°¼ä¿®æ–¯', 'åº“å°”å›¾ç“¦', 'é˜¿æ‹‰å·´',
            'å…‹ç½—æ–¯', 'å·´å°”éŸ¦å¾·', 'ç½—å¾·é‡Œæˆˆ', 'é˜¿æ£®è¥¿å¥¥', 'å¡é©¬æ–‡åŠ ',
            'ç±³åˆ©å”', 'å•è¿ªæ ¼', 'çº³ä¹”', 'å¡ç“¦å“ˆå°”', 'å·´æ–¯å…‹æ–¯',
            'æ¢…è¥¿', 'è±ä¸‡å¤šå¤«æ–¯åŸº', 'ä½©å¾·é‡Œ', 'åŠ ç»´', 'å¾·å®¹',
            'ç‰¹å°”æ–½ç‰¹æ ¹', 'é˜¿åŠ³éœ', 'å…‹é‡Œæ–¯æ»•æ£®', 'å­”å¾·', 'ç™»è´è±',
            'è´¹å…°Â·æ‰˜é›·æ–¯', 'æ‹‰è²å°¼äºš', 'å‡¯è¥¿', 'å¸ƒæ–¯å…‹èŒ¨', 'é˜¿å°”å·´',
            'æ ¼é‡Œå…¹æ›¼', 'è«æ‹‰ta', 'ç§‘å…‹', 'è¨ä¹Œå°”', 'ç•¥ä¼¦ç‰¹',
            'å¥¥å¸ƒæ‹‰å…‹', 'å¸Œé—¨å°¼æ–¯', 'å‹’é©¬å°”', 'å¡æ‹‰æ–¯ç§‘', 'å¾·ä¿ç½—',
            'è´¹åˆ©å…‹æ–¯', 'æ ¼åˆ—å…¹æ›¼', 'è‹äºšé›·æ–¯', 'å¡ç“¦å°¼', 'çš®å…‹',
            'é˜¿å°”ç»´æ–¯', 'æ™®ä¼Šæ ¼', 'å°¼ç§‘', 'åŠ è¥¿äºš', 'æ³•è’‚',
            'ç©†å‹’', 'åŸºç±³å¸Œ', 'è¯ºä¼Šå°”', 'è¨å†…', 'æ ¼çº³å¸ƒé‡Œ',
            'æˆ´ç»´æ–¯', 'å¢å¡æ–¯Â·åŸƒå°”å—å¾·æ–¯', 'å¸•ç“¦å°”', 'æ ¼é›·èŒ¨å¡', 'é©¬å†…',
            'å¾·é‡Œèµ«ç‰¹', 'åå¡æ´›', 'ç§‘æ›¼', 'ç´¢é»˜', 'äºå¸•æ¢…å¡è¯º',
            'å“ˆå…°å¾·', 'è´æ—å„å§†', 'ç½—ä¼Šæ–¯', 'å¸ƒå…°ç‰¹', 'é˜¿åå‰',
            'èƒ¡æ¢…å°”æ–¯', 'ç©†ç§‘ç§‘', 'é›·çº³', 'æ–½æ´›ç‰¹è´å…‹', 'èšå‹’',
            'ç»´å°”èŒ¨', 'è¿ªäºšæ¯”', 'å¡”æ™®ç´¢å·´', 'å¼—æ—è“¬', 'èµ«æ´›çƒ­å…‹',
            'æ©æ˜†åº“', 'å¥¥å°”è«', 'ç»´å°”çº³', 'åŠ³å§†', 'å…‹æ´›æ–¯ç‰¹æ›¼',
            'è±é»˜å°”', 'è¥¿é©¬å', 'äº¨é‡Œå¸Œæ–¯', 'æ³¢å°”æ£®', 'ç¦æ–¯è´é‡Œ',
            'ç´¢åšæ–¯æ´›ä¼Š', 'æ ¼ç“¦è¿ªå¥¥å°”', 'è±æ¯”é”¡', 'æ©æ¢…æŸ¥', 'é˜¿å¾·è€¶ç±³',
            'é©¬ä¼¦', 'æ–½æ´›ç‰¹è´å…‹', 'æ²ƒå°”å¤«', 'é›·çº³', 'è´å…‹å°”',
            'è±å¥¥', 'å‰é²', 'ç‰¹å¥¥', 'æ‰˜çº³åˆ©', 'è¿ˆå°¼æ˜‚',
            'è¿ªäºšæ–¯', 'å¡æ‹‰å¸ƒé‡Œäºš', 'å…‹äºšå°”', 'æœ¬çº³èµ›å°”', 'è¨å‹’é©¬å…‹å°”æ–¯',
            'åŠ³å¡”ç½—', 'å·´é›·æ‹‰', 'ä»€å…‹é‡Œå°¼äºšå°”', 'å·´æ–¯æ‰˜å°¼', 'æ°å°”æ±—å¥¥å¢',
            'å¢å¡åº“', 'å“²ç§‘', 'é‚“å¼—é‡Œæ–¯', 'å¾·å¼—é‡Œ', 'å¸ƒç½—ä½ç»´å¥‡',
            'å¥¥æ–¯æ¢…æ©', 'å…‹ç“¦æ‹‰èŒ¨èµ«åˆ©äºš', 'é‡‘çŸå“‰', 'æ´›åšç‰¹', 'å®‰å¤ä¼Šè¨',
            'è¿ªæ´›ä¼¦ä½', 'é²ä¼Š', 'æ¢…é›·ç‰¹', 'æ³¢åˆ©å¡”è¯º', 'æ³½æ—æ–¯åŸº',
            'å¼—æ‹‰éœç»´å¥‡', 'åŸºè€¶è¨', 'åšæ ¼å·´', 'è¾¾å°¼æ´›', 'å¸ƒé›·é»˜',
            'è¿ªé©¬åˆ©äºš', 'å¸•é›·å¾·æ–¯', 'ç§‘æ–¯è’‚å¥‡', 'ç±³åˆ©å…‹', 'æ´›å¡ç‰¹åˆ©',
            'å› è«æ¯”è±', 'é˜¿å°”è´æ‰˜', 'ç±³æ—ç§‘ç»´å¥‡', 'å®‰å¾·æ£®', 'æ‰å¡å°¼',
            'ç½—é©¬å°¼å¥¥åˆ©', 'æ‰˜è«é‡Œ', 'å¡å¢å¢', 'å…‹é²å°¼å¥‡', 'é›·æ¯”å¥‡',
            'å§†å·´ä½©', 'å†…é©¬å°”', 'æ¢…è¥¿', 'å¤šçº³é²é©¬', 'æ‹‰è«æ–¯',
            'é©¬å°”åŸºå°¼å¥¥æ–¯', 'ç»´æ‹‰è’‚', 'é˜¿ä»€æ‹‰å¤«', 'é—¨å¾·æ–¯', 'é‡‘å½­è´',
            'åŸƒåŸºè’‚å…‹', 'æ¡‘è°¢æ–¯', 'é²ä¼Šæ–¯', 'ç´¢è±å°”', 'ç©†åŸºå‹’',
            'å¤§å«', 'ä¹”çº³æ£®Â·æˆ´ç»´', 'ä¸°ç‰¹', 'çƒ­å°”æ¾', 'å®‰å¾·çƒˆÂ·æˆˆéº¦æ–¯',
            'å¡è´æ‹‰', 'ç­å·´', 'å¥¥çº³æ–¯', 'å°¼å¤æ‹‰æ–¯Â·ä½©ä½©', 'è¿ªäºšåŸºç‰¹',
            'ç¦æ³•çº³', 'å¤æ–¯æ‰˜', 'æ‹‰å¡æ³½ç‰¹', 'æ‰˜åˆ©ç´¢', 'å¸•å¥å¡”',
            'ç™»è´è±', 'å·´å°”ç§‘æ‹‰', 'åˆ‡å°”åŸº', 'å¥¥äºšå°”', 'å¸•ç“¦å°”',
            'æ³°é‡Œè€¶', 'è¨ç“¦å°¼è€¶', 'é©¬ç»´è¿ªè¿ª', 'åŸƒæ¢…åŠ ', 'ç“¦å¸Œ',
            'å¡é©¬æ‹‰', 'å…‹åŠ³æ–¯', 'æ¡‘é€šå…¹', 'é˜¿å¡”å°”', 'å¸ƒå·´å¡å°”Â·å¡é©¬æ‹‰',
            'äº‘ä»£å°”', 'å¸•è€¶', 'è´¡å¤šé½', 'è·¯æ˜“æ–¯Â·è‹äºšé›·æ–¯', 'å·´æ´›è´¡'];

        function getRandomPlayer() {
            return NORMAL_PLAYERS[Math.floor(Math.random() * NORMAL_PLAYERS.length)];
        }

        let isCollapsed = true;
        function toggleCollapse() {
            const container = document.getElementById('rewardsContainer');
            container.classList.toggle('collapsed');
            document.getElementById('collapseButton').textContent = 
                container.classList.contains('collapsed') ? 'å±•å¼€æ›´å¤šå¥–åŠ±' : 'æ”¶èµ·å¥–åŠ±';
        }

        // åˆå§‹åŒ–
        updateUI();
    </script>
</body>
</html>
